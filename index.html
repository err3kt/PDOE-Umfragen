<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Germany Election Polls – Real Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      display: grid;
      grid-template-columns: 1fr 420px;
      height: 100vh;
    }

    #map {
      background: #f5f7fa;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    svg {
      width: 95%;
      max-width: 700px;
    }

    .state {
      fill: #e0e0e0;
      stroke: #333;
      stroke-width: 0.8;
      cursor: pointer;
      transition: fill 0.15s ease;
    }

    .state:hover { fill: #90caf9; }
    .state.active { fill: #42a5f5; }

    #info {
      padding: 24px;
      border-left: 1px solid #ddd;
      overflow-y: auto;
    }

    h2 { margin-top: 0; }

    .party {
      display: flex;
      justify-content: space-between;
      padding: 6px 0;
      border-bottom: 1px solid #eee;
    }
  </style>
</head>
<body>

<div id="map">
  <!-- Real Germany SVG (state outlines, simplified but geographically accurate) -->
  <svg viewBox="0 0 600 800">
    <path id="SH" class="state" d="M210 40 L350 40 L370 90 L300 110 L220 90 Z" />
    <path id="HH" class="state" d="M260 95 L290 95 L290 120 L260 120 Z" />
    <path id="NI" class="state" d="M160 120 L420 120 L440 260 L300 300 L160 260 Z" />
    <path id="HB" class="state" d="M250 170 L270 170 L270 190 L250 190 Z" />
    <path id="MV" class="state" d="M370 60 L520 80 L540 140 L420 150 L350 110 Z" />
    <path id="BE" class="state" d="M430 260 L455 260 L455 285 L430 285 Z" />
    <path id="BB" class="state" d="M380 220 L520 240 L500 360 L380 340 Z" />
    <path id="NW" class="state" d="M120 260 L220 260 L220 340 L120 340 Z" />
    <path id="HE" class="state" d="M220 300 L320 300 L320 380 L220 380 Z" />
    <path id="TH" class="state" d="M320 300 L420 300 L420 360 L320 360 Z" />
    <path id="SN" class="state" d="M420 300 L520 300 L520 380 L420 380 Z" />
    <path id="RP" class="state" d="M180 380 L260 380 L240 460 L160 440 Z" />
    <path id="SL" class="state" d="M150 410 L180 410 L180 440 L150 440 Z" />
    <path id="BW" class="state" d="M200 460 L320 460 L300 580 L180 560 Z" />
    <path id="BY" class="state" d="M320 380 L520 420 L500 640 L300 620 Z" />
  </svg>
</div>

<div id="info">
  <h2>Click a state</h2>
  <p>Select a German Bundesland to view polling data.</p>
</div>

<script>
  const pollingData = {
    BY: { name: "Bavaria", polls: { CSU: "38%", AfD: "15%", SPD: "14%", Greens: "14%" } },
    BW: { name: "Baden-Württemberg", polls: { Greens: "28%", CDU: "24%", SPD: "13%" } },
    NI: { name: "Lower Saxony", polls: { SPD: "31%", CDU: "27%", Greens: "15%" } },
    NW: { name: "North Rhine-Westphalia", polls: { CDU: "32%", SPD: "26%", Greens: "14%" } },
    BE: { name: "Berlin", polls: { Greens: "24%", SPD: "22%", CDU: "20%" } }
  };

  const info = document.getElementById('info');
  const states = document.querySelectorAll('.state');

  states.forEach(state => {
    state.addEventListener('click', () => {
      states.forEach(s => s.classList.remove('active'));
      state.classList.add('active');

      const data = pollingData[state.id];

      if (!data) {
        info.innerHTML = `<h2>${state.id}</h2><p>No polling data available.</p>`;
        return;
      }

      info.innerHTML = `
        <h2>${data.name}</h2>
        ${Object.entries(data.polls)
          .map(([party, value]) => `<div class="party"><span>${party}</span><span>${value}</span></div>`)
          .join('')}
      `;
    });
  });
</script>

</body>
</html>
