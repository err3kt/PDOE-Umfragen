<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Germany Election Polls</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      margin: 0;
      padding: 0;
      display: grid;
      grid-template-columns: 1fr 420px;
      height: 100vh;
    }

    #map {
      background: #f4f6f8;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    svg {
      width: 90%;
      max-width: 600px;
    }

    .state {
      fill: #cfd8dc;
      stroke: #455a64;
      stroke-width: 1;
      cursor: pointer;
      transition: fill 0.2s ease;
    }

    .state:hover {
      fill: #90caf9;
    }

    .state.active {
      fill: #42a5f5;
    }

    #info {
      padding: 24px;
      border-left: 1px solid #ddd;
      overflow-y: auto;
    }

    h2 {
      margin-top: 0;
    }

    .party {
      display: flex;
      justify-content: space-between;
      padding: 6px 0;
      border-bottom: 1px solid #eee;
    }
  </style>
</head>
<body>

<div id="map">
  <!-- Simplified SVG map (illustrative, not geographically perfect) -->
  <svg viewBox="0 0 300 400">
    <path id="BY" class="state" d="M160 260 L260 260 L280 340 L200 380 L140 320 Z" />
    <path id="BW" class="state" d="M80 260 L160 260 L140 320 L60 300 Z" />
    <path id="HE" class="state" d="M120 200 L180 200 L160 260 L100 260 Z" />
    <path id="NRW" class="state" d="M60 160 L120 160 L120 220 L60 220 Z" />
    <path id="NI" class="state" d="M80 80 L200 80 L200 160 L80 160 Z" />
    <path id="BE" class="state" d="M210 150 L235 150 L235 175 L210 175 Z" />
  </svg>
</div>

<div id="info">
  <h2>Click a state</h2>
  <p>Select a German state to view polling data.</p>
</div>

<script>
  // Example polling data (replace with fetch() to real API or JSON file)
  const pollingData = {
    BY: {
      name: "Bavaria",
      updated: "2026-01-15",
      polls: {
        "CSU": "38%",
        "Greens": "16%",
        "SPD": "14%",
        "AfD": "12%",
        "FDP": "5%"
      }
    },
    BW: {
      name: "Baden-WÃ¼rttemberg",
      updated: "2026-01-12",
      polls: {
        "Greens": "28%",
        "CDU": "24%",
        "SPD": "13%",
        "AfD": "11%",
        "FDP": "7%"
      }
    },
    HE: {
      name: "Hesse",
      updated: "2026-01-10",
      polls: {
        "CDU": "30%",
        "SPD": "20%",
        "Greens": "17%",
        "AfD": "13%"
      }
    }
  };

  const info = document.getElementById("info");
  const states = document.querySelectorAll('.state');

  states.forEach(state => {
    state.addEventListener('click', () => {
      states.forEach(s => s.classList.remove('active'));
      state.classList.add('active');

      const data = pollingData[state.id];

      if (!data) {
        info.innerHTML = `<h2>No data</h2><p>No polling data available for this state.</p>`;
        return;
      }

      info.innerHTML = `
        <h2>${data.name}</h2>
        <p><strong>Last updated:</strong> ${data.updated}</p>
        ${Object.entries(data.polls)
          .map(([party, value]) => `<div class="party"><span>${party}</span><span>${value}</span></div>`)
          .join('')}
      `;
    });
  });
</script>

</body>
</html>